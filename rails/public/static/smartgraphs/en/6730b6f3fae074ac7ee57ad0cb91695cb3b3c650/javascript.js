(function(){var a="sproutcore/standard_theme";if(!SC.BUNDLE_INFO){throw"SC.BUNDLE_INFO is not defined!"
}if(SC.BUNDLE_INFO[a]){return}SC.BUNDLE_INFO[a]={requires:["sproutcore/empty_theme"],styles:["/static/sproutcore/standard_theme/en/ae78e682efa8d92ab1f23de86e1e7855014416c6/stylesheet-packed.css","/static/sproutcore/standard_theme/en/ae78e682efa8d92ab1f23de86e1e7855014416c6/stylesheet.css"],scripts:["/static/sproutcore/standard_theme/en/ae78e682efa8d92ab1f23de86e1e7855014416c6/javascript-packed.js"]}
})();console.log("Loading Smartgraphs = SC.Application.create");Smartgraphs=SC.Application.create({NAMESPACE:"Smartgraphs",VERSION:"0.2.0",store:SC.Store.create().from("Smartgraphs.RailsDataSource")});
Smartgraphs.DialogTurn=SC.Record.extend({beforeText:SC.Record.attr(String),responseTemplate:SC.Record.toOne("Smartgraphs.ResponseTemplate"),responseVerifier:SC.Record.toOne("Smartgraphs.ResponseVerifier"),staticAnnotations:SC.Record.toMany("Smartgraphs.StaticAnnotation"),afterText:SC.Record.attr(String),nextTurnButtonTitle:SC.Record.attr(String),nextTurnForNominalResponse:SC.Record.toOne("Smartgraphs.DialogTurn"),nextTurnForIncorrectResponse:SC.Record.toOne("Smartgraphs.DialogTurn"),isLastTurn:SC.Record.attr(Boolean),shouldAutoAdvance:SC.Record.attr(Boolean),wasVisited:NO,responseArray:null});
Smartgraphs.GuidePage=SC.Record.extend({sequence:SC.Record.toOne("Smartgraphs.GuidePageSequence",{inverse:"pages"}),index:SC.Record.attr(Number),title:SC.Record.attr(String),introText:SC.Record.attr(String),firstDialogTurn:SC.Record.toOne("Smartgraphs.DialogTurn"),dataSeries:SC.Record.toOne("Smartgraphs.DataSeries"),axes:SC.Record.toOne("Smartgraphs.Axes"),sensorAppletShouldBeEnabled:SC.Record.attr(Boolean),selectedDialogTurn:null,isSelectable:NO,shouldShowImage:SC.Record.attr(Boolean)});
sc_require("models/dialog_turn");sc_require("models/guide_page");Smartgraphs.authoringController=SC.ObjectController.create({isAuthoring:NO,pane:null,authoringPassword:"reflectpt",enterredPassword:"",showPanelPane:function(){var a=SC.PanelPane.create({layout:{width:400,height:200,centerX:0,centerY:0},contentView:SC.View.extend({layout:{top:0,left:0,bottom:0,right:0},childViews:"labelView passwordView buttonView".w(),labelView:SC.LabelView.extend({layout:{top:5,left:5,right:5,height:24,centerX:0},textAlign:SC.ALIGN_CENTER,controlSize:SC.LARGE_CONTROL_SIZE,value:"Enter an Authoring Password:"}),passwordView:SC.TextFieldView.extend({layout:{top:50,height:30,left:5,right:5,centerX:0},isPassword:YES,textAlign:SC.ALIGN_CENTER,controlSize:SC.LARGE_CONTROL_SIZE,value:""}),buttonView:SC.ButtonView.extend({layout:{top:100,width:80,height:24,centerX:0},title:"OK",action:"closingOperations"}),closingOperations:function(){console.log("closingOperations called");
Smartgraphs.authoringController.enterredPassword=this.passwordView.get("value");console.log("checking Smartgraphs.authoringController.enterredPassword:",Smartgraphs.authoringController.enterredPassword);
if(!(Smartgraphs.authoringController.enterredPassword==="")){console.log("calling Smartgraphs.authoringController.toggleAuthoring()");
Smartgraphs.authoringController.toggleAuthoring()}console.log("calling remove()");
Smartgraphs.authoringController.pane.remove()}})});a.append();this.set("pane",a)},checkEnterredPassword:function(){console.log("checkEnterredPassword called");
if(this.enterredPassword&&this.authoringPassword){var a=(this.enterredPassword===this.authoringPassword);
if(!a){this.enterredPassword=""}console.log("checkEnterredPassword is returning result:",a);
return a}console.log("checkEnterredPassword is returning false");return false},isAuthorized:function(){console.log("this.enterredPassword:",this.enterredPassword);
if(this.enterredPassword===""){this.showPanelPane();return false}else{return this.checkEnterredPassword()
}},toggleAuthoring:function(){if(this.isAuthorized()){this.toggleAuthoringMode()}},toggleAuthoringMode:function(){this.set("isAuthoring",!this.get("isAuthoring"))
}});Smartgraphs.axesController=SC.ObjectController.create({padding:{top:20,right:20,bottom:40,left:60},contentBinding:SC.Binding.oneWay("Smartgraphs.guidePageController.axes")});
Smartgraphs.dataSeriesController=SC.ArrayController.create({seriesBinding:SC.Binding.oneWay("Smartgraphs.guidePageController.dataSeries"),content:function(){var a=this.get("series");
var b=SC.Query.local(Smartgraphs.DataPoint,{conditions:"series = {series}",series:a,orderBy:"x"});
return Smartgraphs.store.find(b)}.property("series").cacheable(),addDataPoint:function(a,c){var b=Smartgraphs.store.createRecord(Smartgraphs.DataPoint,{x:a,y:c});
b.set("series",this.get("series"));return b},allowsMultipleSelection:NO});Smartgraphs.dialogTurnController=SC.ObjectController.create({contentBinding:"Smartgraphs.guidePageController.selectedDialogTurn",_oldContent:null,contentDidChange:function(){var a=this.get("content");
if(this._oldContent!==this.get("content")){if(this._oldContent){this._oldContent.set("wasVisited",YES)
}}this._oldContent=a;this.invokeOnce(this._updateForChangedContent)}.observes("content"),_updateForChangedContent:function(){var b=this.getPath("responseTemplate");
var a=[];if(b&&!this.get("responseArray")){a.length=b.get("numberOfResponseFields");
this.set("responseArray",a)}if(this.get("isLastTurn")){Smartgraphs.guidePageSequenceController.set("nextPageIsSelectable",YES);
if(this.get("shouldAutoAdvance")&&!this.get("wasVisited")){Smartgraphs.guidePageSequenceController.invokeLast("selectNextPage")
}}},updateResponse:function(a,b){var c=this.get("responseArray");if(c){c.replace(a,1,[b])
}},gotoNextTurn:function(){if(Smartgraphs.responseVerifierController.get("verificationIsRequired")){Smartgraphs.responseVerifierController.checkResponse()
}else{var a=this.get("nextTurnForNominalResponse");Smartgraphs.guidePageController.set("selectedDialogTurn",a)
}},didReceiveCorrectResponse:function(){var a=this.get("nextTurnForNominalResponse");
Smartgraphs.guidePageController.set("selectedDialogTurn",a)},didReceiveIncorrectResponse:function(){var a=this.get("nextTurnForIncorrectResponse");
Smartgraphs.guidePageController.set("selectedDialogTurn",a)},didReceiveIncompleteResponse:function(){},didReceiveMalformedResponse:function(){},defaultNextTurnButtonTitle:"Check My Answer",rawNextTurnButtonTitleBinding:SC.Binding.oneWay("*content.nextTurnButtonTitle"),nextTurnButtonTitle:function(){var a=this.get("rawNextTurnButtonTitle");
return a?a:this.get("defaultNextTurnButtonTitle")}.property("rawNextTurnButtonTitle").cacheable(),nextTurnButtonShouldBeVisible:null,nextTurnButtonShouldBeVisibleBinding:SC.Binding.not(".isLastTurn").oneWay(),verificationIsNotRequired:null,verificationIsNotRequiredBinding:SC.Binding.not("Smartgraphs.responseVerifierController.verificationIsRequired").oneWay(),nextTurnButtonShouldBeEnabled:null,nextTurnButtonShouldBeEnabledBinding:SC.Binding.or("Smartgraphs.dialogTurnController.verificationIsNotRequired","Smartgraphs.responseVerifierController.responseIsReady"),sensorAppletShouldBeEnabled:null,sensorAppletShouldBeEnabledBinding:SC.Binding.oneWay("Smartgraphs.guidePageController.sensorAppletShouldBeEnabled")});
sc_require("models/guide_page");Smartgraphs.guidePageController=SC.ObjectController.create({contentBinding:"Smartgraphs.guidePageSequenceController.selectedPage",contentDidChange:function(){this.invokeOnce(this._setDialogTurn)
}.observes("content"),_setDialogTurn:function(){console.log("_setDialogTurn");if(SC.none(this.get("selectedDialogTurn"))){this.set("selectedDialogTurn",this.get("firstDialogTurn"))
}}});Smartgraphs.guidePageSequenceController=SC.ArrayController.create({allowsEmptySelection:NO,allowsMultipleSelection:NO,selectObject:function(a){SC.RunLoop.begin();
arguments.callee.base.apply(this,arguments);SC.RunLoop.end()},sequenceDidChange:function(){console.log("***! Smartgraphs.guidePageSequenceController observed sequence change");
var d=this.get("sequence");if(d){console.log("sequence",d);var b=d.get("pages");if(b){this.set("content",b);
var c=b.objectAt(0);if(c){c.set("isSelectable",true);this.set("selectedPage",c)}else{console.error("firstPage:",c)
}}else{console.log("Not using old Guide Page Sequence structure because sequence is missing the attribute pages:",b);
if(d.isSCArray){b=d;this.set("content",b);var a=b.objectAt(0);if(a){console.log("page1",a);
console.log("page1.get('title')",a.get("title"));a.set("isSelectable",true);this.set("selectedPage",a)
}else{console.error("page1:",a)}}}}else{console.error("sequence:",d)}}.observes("sequence"),selectedPage:function(a,b){if(b!==undefined&&b.get("isSelectable")){this.selectObject(b)
}return this.get("selection").toArray().objectAt(0)}.property("selection"),indexOfSelectedPage:function(){var b=this.get("selection");
var c=b.indexSetForSource(this);var a=c?c.toArray().objectAt(0):undefined;return a
}.property("selectedPage","content","[]").cacheable(),previousPage:function(){var a=this.get("indexOfSelectedPage");
return(a>0)?this.objectAt(a-1):null}.property("selectedPage","content","[]").cacheable(),nextPage:function(){var a=this.get("indexOfSelectedPage");
return(a+1<this.get("length"))?this.objectAt(a+1):null}.property("selectedPage","content","[]").cacheable(),isFirstPage:null,isFirstPageBinding:SC.Binding.bool(".previousPage").not(),isLastPage:null,isLastPageBinding:SC.Binding.bool(".nextPage").not(),canSelectPreviousPage:null,canSelectPreviousPageBinding:SC.Binding.not(".isFirstPage"),nextPageIsSelectable:null,nextPageIsSelectableBinding:"*nextPage.isSelectable",canSelectNextPage:function(){return(!this.get("isLastPage")&&this.get("nextPageIsSelectable"))
}.property("isLastPage","nextPageIsSelectable").cacheable(),selectPreviousPage:function(){if(this.get("canSelectPreviousPage")){this.selectObject(this.get("previousPage"))
}},selectNextPage:function(){if(this.get("canSelectNextPage")){this.selectObject(this.get("nextPage"))
}}});Smartgraphs.responseTemplateController=SC.ObjectController.create({contentBinding:"Smartgraphs.dialogTurnController.responseTemplate"});
Smartgraphs.responseVerifierController=SC.ObjectController.create({contentBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.responseVerifier"),verificationIsRequired:null,verificationIsRequiredBinding:SC.Binding.bool(".content"),contentDidChange:function(){var a=this.get("content");
if(!a){return}this.invokeOnce(this._setVerifierDelegate)}.observes("content"),_setVerifierDelegate:function(){var a="Smartgraphs."+this.get("verifierDelegateName")+"VerifierDelegate";
var b=SC.objectForPropertyPath(a);b.set("configString",this.get("configString"));
this.set("verifierDelegate",b)},responseIsReady:null,responseIsReadyBinding:SC.Binding.bool("*verifierDelegate.responseIsReady"),checkResponse:function(){var a=this.get("verifierDelegate");
a.checkResponse();var d=a.get("responseIsIncomplete");var c=a.get("responseIsMalformed");
var b=a.get("responseIsCorrect");if(d){Smartgraphs.dialogTurnController.didReceiveIncompleteResponse();
return}if(c){Smartgraphs.dialogTurnController.didReceiveMalformedResponse();return
}this.set("responseAsString",a.get("responseAsString"));if(b){Smartgraphs.dialogTurnController.didReceiveCorrectResponse()
}else{Smartgraphs.dialogTurnController.didReceiveIncorrectResponse()}}});Smartgraphs.staticAnnotationsController=SC.ArrayController.create({contentBinding:"Smartgraphs.dialogTurnController.staticAnnotations"});
Smartgraphs.GuidePageSequence=SC.Record.extend({pages:SC.Record.toMany("Smartgraphs.GuidePage",{inverse:"sequence",orderBy:["index"]})});
sc_require("models/guide_page_sequence");sc_require("models/guide_page");Smartgraphs.GUIDEPAGESEQUENCE_QUERY=SC.Query.local(Smartgraphs.GuidePageSequence);
Smartgraphs.GUIDEPAGE_QUERY=SC.Query.local(Smartgraphs.GuidePage);Smartgraphs.RailsDataSource=SC.DataSource.extend({_jsonGet:function(a,d,c){c=SC.A(arguments).slice(1);
c.unshift(this);var b=SC.Request.getUrl(a+".json").header({Accept:"application/json"}).json();
b.notify.apply(b,c);console.log("request.address: %s",b.address);console.log("request: ",b);
b.send()},fetch:function(a,b){console.log("Smartgraphs.RailsDataSource.fetch()");
console.log("query:",b);if(b===Smartgraphs.GUIDEPAGESEQUENCE_QUERY){console.log("query === Smartgraphs.GUIDEPAGESEQUENCE_QUERY",b);
this._jsonGet("/rails/guide_page_sequences","didFetchGuidePageSequences",a,b);console.log("group end");
return YES}else{if(b===Smartgraphs.GUIDEPAGE_QUERY){console.log("query === Smartgraphs.GUIDEPAGE_QUERY",b);
this._jsonGet("/rails/guide_pages","didFetchGuidePages",a,b);console.log("group end");
return YES}}console.log("group end");return NO},didFetchGuidePageSequences:function(b,a,d){console.log("Smartgraphs.RailsDataSource.didFetchGuidePageSequences()");
console.log("response.status = %d",b.get("status"));console.log("response: ",b);if(SC.ok(b)){console.log("SC.ok(response) is YES; processing content");
var c=b.get("body").content;console.log("response.body.content: ",c);console.log("store.loadRecords(Smartgraphs.GuidePageSequence, content)");
a.loadRecords(Smartgraphs.GuidePageSequence,c);console.log("group end");console.log("store.dataSourceDidFetchQuery(query)");
a.dataSourceDidFetchQuery(d);console.log("group end")}else{a.dataSourceDidErrorQuery(d,b)
}console.log("group end")},didFetchGuidePages:function(c,b,f){console.log("Smartgraphs.RailsDataSource.didFetchGuidePages()");
console.log("response.status = %d",c.get("status"));console.log("response: ",c);if(SC.ok(c)){console.log("SC.ok(response) is YES; processing content");
var e=c.get("body").content;console.log("response.body.content: ",e);console.log("content.isSCArray: ",e.isSCArray);
console.log("content.length:",e.length);console.log("content.objectAt(0):",e.objectAt(0));
console.log("content.objectAt(0).title:",e.objectAt(0).title);console.log("store.loadRecords(Smartgraphs.GuidePage, content)");
var a=b.loadRecords(Smartgraphs.GuidePage,e);console.log("resultingStoreKeysArray:",a);
console.log("group end");console.log("store.dataSourceDidFetchQuery(query)");b.dataSourceDidFetchQuery(f);
console.log("store.dataSourceDidFetchQuery(query) is done");var d=b.find(Smartgraphs.GuidePage);
console.log("guide_pages:",d);console.log("guide_pages.objectAt(0):",d.objectAt(0));
console.log("guide_pages.objectAt(0).title:",d.objectAt(0).title);console.log("guide_pages.objectAt(0).title.toString():",d.objectAt(0).title.toString());
Smartgraphs.guidePageSequenceController.set("sequence",d);console.log("group end")
}else{b.dataSourceDidErrorQuery(f,c)}console.log("group end")},retrieveRecord:function(a,c){console.log("Smartgraphs.RailsDataSource.retrieveRecord");
var b=a.idFor(c);this._jsonGet(b,"didRetrieveRecord",a,c);return YES},didRetrieveRecord:function(b,a,d){console.log("Smartgraphs.RailsDataSource.didRetrieveRecord()");
console.log("response.status = %d",b.get("status"));console.log("response: ",b);if(SC.ok(b)){console.log("SC.ok(response) is YES; processing content");
var c=b.get("body").content;console.log("response.body.content: ",c);console.log("store.dataSourceDidComplete(storeKey, content)");
a.dataSourceDidComplete(d,c);console.log("group end")}else{a.dataSourceDidError(d)
}console.log("group end")},createRecord:function(b,d){var e=b.recordTypeFor(d);var a=e.modelName;
var c={};c[a]=b.readDataHash(d);delete c[a]["guid"];console.log("Smartgraphs.RailsDataSource.createRecord()");
SC.Request.postUrl("/rails/"+e.modelsName).header({Accept:"application/json"}).json().notify(this,this.didCreateRecord,b,d).send(c);
console.log("group end");return YES},didCreateRecord:function(b,a,d){if(SC.ok(b)){var e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;
var c=e.exec(b.header("Location"))[8];a.dataSourceDidComplete(d,null,c)}else{a.dataSourceDidError(d,b)
}},updateRecord:function(a,b){return NO},destroyRecord:function(a,b){return NO}});
Smartgraphs.dataSource=Smartgraphs.RailsDataSource.create();console.log("Smartgraphs.dataSource:",Smartgraphs.dataSource);
Smartgraphs.Axes=SC.Record.extend({xMax:SC.Record.attr(Number),xMin:SC.Record.attr(Number),yMax:SC.Record.attr(Number),yMin:SC.Record.attr(Number),ySteps:SC.Record.attr(Number),xSteps:SC.Record.attr(Number),xLabel:SC.Record.attr(String),yLabel:SC.Record.attr(String),xLabelAbbreviated:SC.Record.attr(String),yLabelAbbreviated:SC.Record.attr(String)});
sc_require("models/axes");Smartgraphs.Axes.FIXTURES=[{guid:"axes-sensor",xMin:0,xMax:60,xSteps:6,xLabel:"Time (seconds)",xLabelAbbreviated:"Time (s)",yMin:0,yMax:5,ySteps:10,yLabel:"Position (meters)",yLabelAbbreviated:"Position (m)"},{guid:"axes-maria",xMin:0,xMax:10,xSteps:10,xLabel:"Time (minutes)",xLabelAbbreviated:"Time (min)",yMin:0,yMax:2000,ySteps:10,yLabel:"Position (meters)",yLabelAbbreviated:"Position (m)"}];
Smartgraphs.DataPoint=SC.Record.extend({series:SC.Record.toOne("Smartgraphs.DataSeries",{inverse:"points"}),x:SC.Record.attr(Number),y:SC.Record.attr(Number)});
sc_require("models/data_point");Smartgraphs.DataPoint.FIXTURES=[{x:1,y:200,guid:1,series:"series-maria"},{x:2,y:400,guid:2,series:"series-maria"},{x:3,y:600,guid:3,series:"series-maria"},{x:4,y:800,guid:4,series:"series-maria"},{x:5,y:800,guid:5,series:"series-maria"},{x:6,y:800,guid:6,series:"series-maria"},{x:7,y:1050,guid:7,series:"series-maria"},{x:8,y:1300,guid:8,series:"series-maria"},{x:9,y:1550,guid:9,series:"series-maria"},{x:10,y:1800,guid:10,series:"series-maria"}];
Smartgraphs.DataSeries=SC.Record.extend({points:SC.Record.toMany("Smartgraphs.DataPoint",{inverse:"series"})});
sc_require("models/data_series");Smartgraphs.Pair=SC.Object.extend({x:null,y:null});
Smartgraphs.DataSeries.FIXTURES=[{guid:"series-sensor",points:[]},{guid:"series-maria",points:["1","2","3","4","5","6","7","8","9","10"]}];
sc_require("models/dialog_turn");Smartgraphs.DialogTurn.FIXTURES=[{guid:"turn-1",beforeText:"<p>In this activity, when you see the 'Next >>' button turned on, you can go to the next page.</p><p>Go ahead and click on the Next button now to see the next page.<p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnButtonTitle:null,nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO},{guid:"turn-2-start",beforeText:"<p>How are your motions represented in the position versus time graph? (For example, what does the graph look like when you are standing still?)</p>",responseTemplate:"template-open-1",responseVerifier:null,afterText:"",nextTurnButtonTitle:"Submit My Response",nextTurnForNominalResponse:"turn-2-done",nextTurnForIncorrectResponse:null,isLastTurn:NO},{guid:"turn-2-done",beforeText:"<p>Your answer for this question was recorded. </p> <p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:YES},{guid:"turn-3-start",beforeText:"<p>How are the two different speeds represented in the position versus time graph?</p>",responseTemplate:"template-open-1",responseVerifier:null,afterText:"",nextTurnButtonTitle:"Submit My Response",nextTurnForNominalResponse:"turn-3-done",nextTurnForIncorrectResponse:null,isLastTurn:NO},{guid:"turn-3-done",beforeText:"<p>Your answer for this question was recorded. </p> <p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:YES},{guid:"turn-4-start",beforeText:"<p>What do you notice about the <b>steepness</b> of the three different segments during each of the motions?</p>",responseTemplate:"template-open-1",responseVerifier:null,afterText:"",nextTurnButtonTitle:"Submit My Response",nextTurnForNominalResponse:"turn-4-done",nextTurnForIncorrectResponse:null,isLastTurn:NO},{guid:"turn-4-done",beforeText:"<p>Your answer for this question was recorded. </p> <p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:YES},{guid:"turn-5-start",beforeText:"<p>Click the point in the graph that shows when and where Maria might have first stopped to talk to her coach.</p>",responseTemplate:null,responseVerifier:"verifier-1",afterText:"",nextTurnForNominalResponse:"turn-5-correct",nextTurnForIncorrectResponse:"turn-5-hint-1",isLastTurn:NO},{guid:"turn-5-hint-1",beforeText:"<p>Incorrect.</p><p><b>Hint 1</b>: Look at the graph and table and find where Maria’s position <b>stayed the same.</b></p><p>Try again. Click the first point in the graph that shows when and where Maria might have stopped to talk to her coach.</p>",responseTemplate:null,responseVerifier:"verifier-1",afterText:"",nextTurnForNominalResponse:"turn-5-correct",nextTurnForIncorrectResponse:"turn-5-hint-2",isLastTurn:NO},{guid:"turn-5-hint-2",beforeText:"<p>Incorrect.</p><p><b>Hint 2</b>: In these two intervals, Maria’s position <b>changed</b> as time passed.</b></p><p>Try again. Click the first point in the graph that shows when and where Maria might have stopped to talk to her coach.</p>",responseTemplate:null,responseVerifier:"verifier-1",afterText:"",staticAnnotations:["annotation-1","annotation-2"],nextTurnForNominalResponse:"turn-5-correct",nextTurnForIncorrectResponse:"turn-5-hint-3",isLastTurn:NO},{guid:"turn-5-hint-3",beforeText:"<p><b>Hint 3</b>: In this interval, Maria’s position <b>stayed the same</b> as time passed.</b></p><p>Try again. Click the first point in the graph that shows when and where Maria might have stopped to talk to her coach.</p>",responseTemplate:null,responseVerifier:"verifier-1",afterText:"",staticAnnotations:["annotation-3"],nextTurnForNominalResponse:"turn-5-correct",nextTurnForIncorrectResponse:"turn-5-incorrect",isLastTurn:NO},{guid:"turn-5-incorrect",beforeText:"<p>If you look carefully, you’ll see that between four and six minutes, Maria’s position did not change, meaning that she stopped at four minutes.</p><p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO},{guid:"turn-5-correct",beforeText:"<p>Correct! Four minutes into her run, Maria’s distance stayed the same compared to the next few minutes, meaning she stopped running.</p><p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifer:null,nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO},{guid:"turn-6-start",beforeText:"<p>How many meters did Maria run before she stopped to talk to her coach?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-2",afterText:"",nextTurnForNominalResponse:"turn-6-correct",nextTurnForIncorrectResponse:"turn-6-hint-1",isLastTurn:NO},{guid:"turn-6-hint-1",beforeText:"<p>Incorrect.</p><p><b>Hint 1</b>: Look at the data and find how many minutes passed <b>before</b> Maria stopped.</p><p>Try again. How many meters did Maria run before she stopped to talk to her coach?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-2",afterText:"",nextTurnForNominalResponse:"turn-6-correct",nextTurnForIncorrectResponse:"turn-6-hint-2",isLastTurn:NO},{guid:"turn-6-hint-2",beforeText:"<p>Incorrect.</p><p><b>Hint 2</b>: Here is where Maria stopped. Find her position from the start of the track.</p><p>Try again. How many meters did Maria run before she stopped to talk to her coach?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-2",afterText:"",staticAnnotations:["annotation-4"],nextTurnForNominalResponse:"turn-6-correct",nextTurnForIncorrectResponse:"turn-6-hint-3",isLastTurn:NO},{guid:"turn-6-hint-3",beforeText:"<p>Incorrect.</p><p><b>Hint 3</b>: Here is where Maria stopped. Find her position from the start of the track.</p><p>Try again. Find the y value (position) of this point?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-2",afterText:"",staticAnnotations:["annotation-4","annotation-5"],nextTurnForNominalResponse:"turn-6-correct",nextTurnForIncorrectResponse:"turn-6-incorrect",isLastTurn:NO},{guid:"turn-6-incorrect",beforeText:"<p>Four minutes into her run, Maria stopped. At that point, Maria was 800 meters away from the start line.</p><p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO},{guid:"turn-6-correct",beforeText:"<p>Correct! Four minutes into her run, Maria stopped. At that point, Maria’s was 800 meters away from the start line.</p><p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO},{guid:"turn-7-start",beforeText:"<p>For how many minutes did Maria stop to talk to her coach?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-3",afterText:"",nextTurnForNominalResponse:"turn-7-correct",nextTurnForIncorrectResponse:"turn-7-hint-1",isLastTurn:NO},{guid:"turn-7-hint-1",beforeText:"<p>Incorrect.</p><p><b>Hint 1</b>: Here is the interval when Maria’s distance stayed the same.</p><p>Try again. For how many minutes did Maria stop to talk to her coach?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-3",afterText:"",staticAnnotations:["annotation-3"],nextTurnForNominalResponse:"turn-7-correct",nextTurnForIncorrectResponse:"turn-7-hint-2",isLastTurn:NO},{guid:"turn-7-hint-2",beforeText:"<p>Incorrect.</p><p><b>Hint 2</b>: How much time elapsed during this interval?</p><p>Try again. For how many minutes did Maria stop to talk to her coach?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-3",afterText:"",staticAnnotations:["annotation-3"],nextTurnForNominalResponse:"turn-7-correct",nextTurnForIncorrectResponse:"turn-7-hint-3",isLastTurn:NO},{guid:"turn-7-hint-3",beforeText:"<p>Incorrect.</p><p><b>Hint 3</b>: After four minutes, Maria stopped and did not start moving again until six minutes. So, how many minutes passed?</p><p>Try again. For how many minutes did Maria stop to talk to her coach?</p>",responseTemplate:"template-numeric-1",responseVerifier:"verifier-3",afterText:"",nextTurnForNominalResponse:"turn-7-correct",nextTurnForIncorrectResponse:"turn-7-incorrect",isLastTurn:NO},{guid:"turn-7-incorrect",beforeText:"<p>Maria stopped during the horizontal segment of the graph. This is when her position did not change. As you can see, this interval lasted 2 minutes.</p><p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO},{guid:"turn-7-correct",beforeText:"<p>Correct! Maria stopped during the horizontal segment of the graph. This is when her position did not change. As you can see, this interval lasted 2 minutes.</p><p>Click Next >> when you are ready.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO},{guid:"turn-8-start",beforeText:"<p>Think back on the activities you just did.</p><p>Now that you have had a chance to create your own position versus time graphs, explain what kind of details this graph can tell about motion on a straight track. Give examples of some details that a position versus time graph cannot tell.</p><p>What other elements would make the story complete?</p>",responseTemplate:"template-open-1",responseVerifier:null,afterText:"",nextTurnButtonTitle:"Submit My Response",nextTurnForNominalResponse:"turn-8-done",nextTurnForIncorrectResponse:null,isLastTurn:NO},{guid:"turn-8-done",beforeText:"<p>Your answer has been recorded. This is the end of the activity.</p>",responseTemplate:null,responseVerifier:null,afterText:"",nextTurnForNominalResponse:null,nextTurnForIncorrectResponse:null,isLastTurn:YES,shouldAutoAdvance:NO}];
sc_require("models/guide_page");Smartgraphs.GuidePage.FIXTURES=[{guid:1,sequence:"sequence-1",index:1,title:"1",introText:"<p>Have you ever tried to tell someone a story about a trip you took? Most likely, your story included words and pictures. In this activity, you will tell stories that convey information about motion during a specific type of journey.</p><p>You will learn that the motion of an object can be described by its position, direction of motion, and speed. Motion can be measured and represented on a graph.</p>",firstDialogTurn:"turn-1",dataSeries:null,axes:null,sensorAppletShouldBeEnabled:NO,shouldShowImage:YES},{guid:2,sequence:"sequence-1",index:1,title:"2",introText:"<p>You are going to try moving in different ways on a straight path while collecting data with a motion sensor.</p><p>When you are ready, click Start to record the position and time data for your movements. Walk on the path for 30 seconds. Experiment with different kinds of motions (walking fast, slow, forward, backward…). Click Stop after 30 seconds are up.</p>",firstDialogTurn:"turn-2-start",dataSeries:"series-sensor",axes:"axes-sensor",sensorAppletShouldBeEnabled:YES,shouldShowImage:NO},{guid:3,sequence:"sequence-1",index:1,title:"3",introText:"<p>Next you will try moving at two different speeds.</p><p>Start close to the motion sensor. When you are ready, click Reset and then Start and walk away from the sensor at a slow, steady pace for 15 seconds, then at a faster, steady pace for 15 seconds. Click Stop when the time is up.</p>",firstDialogTurn:"turn-3-start",dataSeries:"series-sensor",axes:"axes-sensor",sensorAppletShouldBeEnabled:YES,shouldShowImage:NO},{guid:4,sequence:"sequence-1",index:1,title:"4",introText:"<p>This time, you are going to record your position and time during three different tasks.</p><p>Start close to the motion sensor, click Reset, and then click Start. Walk slowly for about 10 seconds, stop for 10 seconds, then walk faster for the remaining 10 seconds. Click Stop.</p>",firstDialogTurn:"turn-4-start",dataSeries:"series-sensor",axes:"axes-sensor",sensorAppletShouldBeEnabled:YES,shouldShowImage:NO},{guid:5,sequence:"sequence-1",index:1,title:"5",introText:"<p>Now you that you’ve had a chance to create position versus time graphs from your own motions, let’s look at some graphs that were created by someone running.</p><p>Maria ran practice laps around the school track. Her coach recorded the distances she ran after each minute. These data are shown in the graph and the table at right. Remember that the time was recorded in minutes rather than seconds.</p>",firstDialogTurn:"turn-5-start",dataSeries:"series-maria",axes:"axes-maria",sensorAppletShouldBeEnabled:NO,shouldShowImage:NO},{guid:6,sequence:"sequence-1",index:1,title:"6",introText:"<p>Remember that the data on the right is the Maria's distance, recorded every minute (60 seconds) by her coach.<p>",firstDialogTurn:"turn-6-start",dataSeries:"series-maria",axes:"axes-maria",sensorAppletShouldBeEnabled:NO,shouldShowImage:NO},{guid:7,sequence:"sequence-1",index:1,title:"7",introText:"<p>Remember that the data on the right is the Maria's distance, recorded every minute (60 seconds) by her coach.<p>",firstDialogTurn:"turn-7-start",dataSeries:"series-maria",axes:"axes-maria",sensorAppletShouldBeEnabled:NO,shouldShowImage:NO},{guid:8,sequence:"sequence-1",index:1,title:"8",introText:"",firstDialogTurn:"turn-8-start",dataSeries:"series-maria",axes:"axes-maria",sensorAppletShouldBeEnabled:NO,shouldShowImage:NO}];
sc_require("models/guide_page_sequence");Smartgraphs.GuidePageSequence.FIXTURES=[{guid:"sequence-1",pages:["1","2","3","4","5","6","7","8"]}];
Smartgraphs.ResponseTemplate=SC.Record.extend({templateString:SC.Record.attr(String),fieldTypes:SC.Record.attr(Array),fieldValues:SC.Record.attr(Array)});
sc_require("models/response_template");Smartgraphs.ResponseTemplate.FIXTURES=[{guid:"template-numeric-1",fieldTypes:"numeric".w(),fieldValues:[""],numberOfResponseFields:1},{guid:"template-open-1",fieldTypes:"textarea".w(),fieldValues:[""],numberOfResponseFields:1}];
Smartgraphs.ResponseVerifier=SC.Record.extend({verifierDelegateName:SC.Record.attr(String),configString:SC.Record.attr(String)});
sc_require("models/response_verifier");Smartgraphs.ResponseVerifier.FIXTURES=[{guid:"verifier-1",verifierDelegateName:"GraphSelection",configString:"x: 4"},{guid:"verifier-2",verifierDelegateName:"ResponseTemplate",configString:"number: 800"},{guid:"verifier-3",verifierDelegateName:"ResponseTemplate",configString:"number: 2"}];
Smartgraphs.StaticAnnotation=SC.Record.extend({type:SC.Record.attr(String),points:SC.Record.toMany(Smartgraphs.DataPoint)});
sc_require("models/static_annotation");Smartgraphs.StaticAnnotation.FIXTURES=[{guid:"annotation-1",type:"segment",points:["1","2","3","4"]},{guid:"annotation-2",type:"segment",points:["6","7","8","9","10"]},{guid:"annotation-3",type:"segment",points:["4","5","6"]},{guid:"annotation-4",type:"point",points:["4"]},{guid:"annotation-5",type:"line",points:["4"]}];
Smartgraphs.StaticAnnotationList=SC.Record.extend({annotations:SC.Record.toMany("Smartgraphs.StaticAnnotation",{inverse:"list"})});
Smartgraphs.VerifierDelegate=SC.Object.extend({isVerifierDelegate:YES,configString:"",checkResponse:null,responseAsString:"",responseIsIncomplete:YES,responseIsMalformed:NO,responseIsCorrect:NO,responseIsReady:NO});
sc_require("verifier_delegates/verifier_delegate");Smartgraphs.GraphSelectionVerifierDelegate=Smartgraphs.VerifierDelegate.create({checkResponse:function(){if(this.get("responseIsIncomplete")){return
}if(this.get("responseIsMalformed")){return}var a;var b=this.get("configString");
if(b.indexOf("x:")===0){a=parseFloat(b.substring(2))}else{throw"GraphSelectionVerifierDelegate received a configString that didn't start with 'x:'"
}var d=this.get("selectedPoint");this.set("responseAsString","the point ("+d.get("x")+", "+d.get("y")+")");
this.set("responseIsMalformed",NO);var c=d.get("x");this.set("responseIsCorrect",c===a)
},graphSelectionBinding:SC.Binding.oneWay("Smartgraphs.dataSeriesController.selection"),responseIsReady:function(){var a=this.get("graphSelection");
return(!!a&&a.get("length")===1)}.property("graphSelection").cacheable(),responseIsIncomplete:function(){return !this.get("responseIsReady")
}.property("responseIsReady").cacheable(),responseIsMalformed:function(){var a=this.get("graphSelection");
return(a&&a.get("length")>1)}.property("graphSelection").cacheable(),selectedPoint:function(){var a=this.get("graphSelection");
return((a&&a.get("length")===1)?a.toArray().objectAt(0):undefined)}.property("graphSelection").cacheable()});
sc_require("verifier_delegates/verifier_delegate");Smartgraphs.ResponseTemplateVerifierDelegate=Smartgraphs.VerifierDelegate.create({checkResponse:function(){if(this.get("responseIsIncomplete")){return
}var b;var a=NO;var d=this.get("configString");if(d.indexOf("number:")===0){a=YES;
b=parseFloat(d.substring(7))}else{if(d.indexOf("string:"===0)){b=d.substring(7)}else{throw"ResponseTemplateVerifierDelegate received a configString that didn't start with 'number:' or 'string:'"
}}var c=this.get("response");this.set("responseAsString",c);this.set("responseIsMalformed",NO);
if(a){c=parseFloat(c);if(isNaN(c)){this.set("responseIsMalformed",YES)}}if(this.get("responseIsMalformed")){return
}this.set("responseIsCorrect",c===b)},responseArrayBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.responseArray"),_oldResponseArray:null,responseArrayDidChange:function(){var a=this.get("responseArray");
if(this._oldResponseArray){this._oldResponseArray.removeObserver("[]",this,this.rawResponseDidChange)
}if(a){a.addObserver("[]",this,this.rawResponseDidChange)}this._oldResponseArray=a;
this.rawResponseDidChange()}.observes("responseArray"),rawResponseDidChange:function(){var b=this.get("responseArray");
var a=(b&&b.get(length)>0)?b.objectAt(0):null;if(typeof a==="string"){a=a.strip()
}this.set("response",a)},responseIsReady:function(){var a=this.get("response");return(!!a&&(a.length>0))
}.property("response").cacheable(),responseIsIncomplete:function(){return !this.get("responseIsReady")
}.property("responseIsReady").cacheable()});Smartgraphs.AuthorView=SC.View.extend({isVisible:YES,childViews:["titleLabel","indexViewLabel","indexView","titleViewLabel","titleView","introTextViewLabel","introTextView","dialogTurnGuidViewLabel","dialogTurnGuidView","firstDialogTurnViewLabel","firstDialogTurnView","dialogTurnBeforeTextViewLabel","dialogTurnBeforeTextView","responseTemplateGuidViewLabel","responseTemplateGuidView","verifierDelegateNameViewLabel","verifierDelegateNameView","verifierConfigViewLabel","verifierConfigView","dialogTurnAfterTextViewLabel","dialogTurnAfterTextView","nextTurnForNominalResponseViewLabel","nextTurnForNominalResponseView","nextTurnForIncorrectResponseViewLabel","nextTurnForIncorrectResponseView","isLastTurnView","isLastTurnViewLabel"],titleLabel:SC.LabelView.design({layout:{top:0,height:20,width:300},textAlign:"center",backgroundColor:"black",value:"Author's Controls:"}),indexViewLabel:SC.LabelView.design({layout:{top:20,height:20,width:300},backgroundColor:"grey",value:"Guide Page index #:"}),indexView:SC.LabelView.design({layout:{top:40,height:20,width:300},isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.index"}),titleViewLabel:SC.LabelView.design({layout:{top:60,height:20,width:300},backgroundColor:"grey",value:"Title for Guide Page tabs:"}),titleView:SC.LabelView.design({layout:{top:80,height:20,width:300},isEditable:YES,backgroundColor:"darkblue",valueBinding:"*parentView.content.title"}),introTextViewLabel:SC.LabelView.design({layout:{top:100,height:20,width:300},backgroundColor:"grey",value:"Introduction Text:"}),introTextView:SC.LabelView.design({layout:{top:120,height:80,width:300},isInlineEditorMultiline:YES,isEditable:YES,backgroundColor:"darkblue",valueBinding:"*parentView.content.introText"}),firstDialogTurnViewLabel:SC.LabelView.design({layout:{top:200,height:20,width:300},backgroundColor:"grey",value:"First Dialog Turn:"}),firstDialogTurnView:SC.LabelView.design({layout:{top:220,height:80,width:300},isInlineEditorMultiline:YES,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.firstDialogTurn"}),dialogTurnGuidViewLabel:SC.LabelView.design({layout:{top:300,height:20,width:300},backgroundColor:"grey",value:"Selected Dialog Turn's ID:"}),dialogTurnGuidView:SC.LabelView.design({layout:{top:320,height:20,width:300},isInlineEditorMultiline:NO,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.selectedDialogTurn.guid"}),dialogTurnBeforeTextViewLabel:SC.LabelView.design({layout:{top:340,height:20,width:300},backgroundColor:"grey",value:"Selected Dialog Turn's Before Text:"}),dialogTurnBeforeTextView:SC.LabelView.design({layout:{top:360,height:80,width:300},isInlineEditorMultiline:YES,isEditable:YES,backgroundColor:"darkblue",valueBinding:"*parentView.content.selectedDialogTurn.beforeText"}),responseTemplateGuidViewLabel:SC.LabelView.design({layout:{top:440,height:20,width:300},backgroundColor:"grey",value:"Selected Dialog Turn's Response Template ID:"}),responseTemplateGuidView:SC.LabelView.design({layout:{top:460,height:20,width:300},isInlineEditorMultiline:NO,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.selectedDialogTurn.responseTemplate.guid"}),verifierDelegateNameViewLabel:SC.LabelView.design({layout:{top:480,height:20,width:300},backgroundColor:"grey",value:"Selected Dialog Turn's Response Verifier Type:"}),verifierDelegateNameView:SC.LabelView.design({layout:{top:500,height:20,width:300},isInlineEditorMultiline:NO,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.selectedDialogTurn.responseVerifier.verifierDelegateName"}),verifierConfigViewLabel:SC.LabelView.design({layout:{top:520,height:20,width:300},backgroundColor:"grey",value:"Selected Dialog Turn's Correct Answer:"}),verifierConfigView:SC.LabelView.design({layout:{top:540,height:20,width:300},isInlineEditorMultiline:NO,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.selectedDialogTurn.responseVerifier.configString"}),dialogTurnAfterTextViewLabel:SC.LabelView.design({layout:{top:560,height:20,width:300},backgroundColor:"grey",value:"Selected Dialog Turn's After Text:"}),dialogTurnAfterTextView:SC.LabelView.design({layout:{top:580,height:80,width:300},isInlineEditorMultiline:YES,isEditable:YES,backgroundColor:"darkblue",valueBinding:"*parentView.content.selectedDialogTurn.afterText"}),nextTurnForNominalResponseViewLabel:SC.LabelView.design({layout:{top:600,height:20,width:300},backgroundColor:"grey",value:"Next Turn ID for Correct Response:"}),nextTurnForNominalResponseView:SC.LabelView.design({layout:{top:620,height:20,width:300},isInlineEditorMultiline:YES,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.selectedDialogTurn.nextTurnForNominalResponse.guid"}),nextTurnForIncorrectResponseViewLabel:SC.LabelView.design({layout:{top:640,height:20,width:300},backgroundColor:"grey",value:"Next Turn ID for Incorrect Response:"}),nextTurnForIncorrectResponseView:SC.LabelView.design({layout:{top:660,height:20,width:300},isInlineEditorMultiline:NO,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"*parentView.content.selectedDialogTurn.nextTurnForIncorrectResponse.guid"}),isLastTurnViewLabel:SC.LabelView.design({layout:{top:680,height:20,width:300},backgroundColor:"grey",value:"Is This the Last Turn?:"}),isLastTurnView:SC.LabelView.design({layout:{top:700,height:20,width:300},isInlineEditorMultiline:NO,isEditable:NO,backgroundColor:"darkgrey",valueBinding:"Smartgraphs.dialogTurnController.isLastTurn"})});
Smartgraphs.AxesView=SC.View.extend({displayProperties:"axes.xMin axes.xMax axes.yMin axes.yMax axes.padding axes.xLabel axes.yLabel".w(),didCreateLayer:function(){this.$().css("zIndex","-1")
},render:function(d,g){var h=this.get("parentView");var f=h.get("raphaelObject");
if(!f){return}var n=this.get("axes");if(!n||(n.get("xMin")===undefined)){this._clearObjects();
this.renderChildViews(d,g);return}var p=h.get("layout");var q=n.get("xMin"),s=n.get("xMax"),a=n.get("yMin"),c=n.get("yMax"),j=n.get("padding"),o=n.get("xSteps"),r=n.get("ySteps"),b=n.get("xLabel"),i=n.get("yLabel");
var k=p.height,l=p.width;var e=l-j.left-j.right;var m=k-j.top-j.bottom;this._clearObjects();
this._x=f.g.axis(j.left,j.top+m,e,0,s,o,0);this._y=f.g.axis(j.left,j.top+m,m,0,c,r,1);
this._xLabel=f.text(j.left+e/2,k-10,b).attr({font:"14px Arial, sans-serif"});this._yLabel=f.text(10,j.top+m/2,i).attr({font:"14px Arial, sans-serif"});
this.renderChildViews(d,g);this.invokeLater(this.rotateLabel)},rotateLabel:function(){if(this._yLabel){this._yLabel.rotate(270)
}},_clearObjects:function(){if(this._x){this._x.remove()}if(this._y){this._y.remove()
}if(this._xLabel){this._xLabel.remove()}if(this._yLabel){this._yLabel.remove()}}});
Smartgraphs.DialogTurnView=SC.View.extend({useStaticLayout:YES,childViews:"textView buttonsView".w(),textView:SC.View.extend({useStaticLayout:YES,childViews:"beforeTextView responseFieldsView afterTextView".w(),classNames:"dialog-text".w(),beforeTextView:SC.StaticContentView.design({contentBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.beforeText"),isVisibleBinding:SC.Binding.bool("Smartgraphs.dialogTurnController.beforeText")}),responseFieldsView:SC.StaticContentView.design({fieldTypesBinding:"Smartgraphs.responseTemplateController.fieldTypes",fieldValuesBinding:"Smartgraphs.responseTemplateController.fieldValues",isVisibleBinding:SC.Binding.bool("Smartgraphs.responseTemplateController.content"),fieldsTypesDidChange:function(){this.invokeOnce(this._updateChildViews)
}.observes("fieldTypes"),fieldValuesDidChange:function(){this.invokeOnce(this._updateChildViews)
}.observes("fieldValues"),_updateChildViews:function(){this.removeAllChildren();this.contentLayoutDidChange();
var j=this.get("fieldTypes");var a=this.get("fieldValues");var g=[];if(!j){return
}var e,h,l,d,b="";for(var c=0,k=j.get("length");c<k;c++){e=j.objectAt(c);if(e==="textarea"){l=YES;
b="Enter you answer here...";d={height:97}}else{if(e==="numeric"){l=NO;d={height:22,width:100}
}else{throw"responseFieldsView received unexpected field type string '"+e+"'."}}h=SC.View.design({useStaticLayout:YES,layout:d,classNames:"text-field-view-wrapper".w(),childViews:[SC.TextFieldView.design({isTextArea:l,hint:b,index:c,oldGuid:null,valueDidChange:function(){var i=this.get("index");
Smartgraphs.dialogTurnController.updateResponse(i,this.get("value"))}.observes("value")})]});
var f=h.create();if(c===0){this._firstTextFieldView=f.get("childViews").objectAt(0)
}this.appendChild(f);g.push(f)}this.contentLayoutDidChange();this.invokeOnce(this._beginEditingFirstView);
this.set("childViews",g)},dialogTurnDidChange:function(){var a=Smartgraphs.dialogTurnController.get("guid");
if(a!==this._oldGuid){this.invokeOnce(this._clearValuesAndResetEditing)}this._oldGuid=a
}.observes("Smartgraphs.dialogTurnController.guid"),_clearValuesAndResetEditing:function(){var a=this.get("childViews");
if(a){a.forEach(function(b){var c=b.get("childViews").objectAt(0);c.set("value",null)
});this.invokeLater(this._beginEditingFirstView)}},_beginEditingFirstView:function(){if(this._firstTextFieldView){this._firstTextFieldView.beginEditing()
}}}),afterTextView:SC.StaticContentView.design({contentBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.afterText"),isVisibleBinding:SC.Binding.bool("Smartgraphs.dialogTurnController.afterText")})}),buttonsView:SC.View.design({useStaticLayout:YES,layout:{height:24},childViews:"nextTurnButton".w(),nextTurnButton:SC.ButtonView.design({layout:{width:160,right:0},titleBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.nextTurnButtonTitle"),isVisibleBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.nextTurnButtonShouldBeVisible"),isEnabledBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.nextTurnButtonShouldBeEnabled"),target:"Smartgraphs.dialogTurnController",action:"gotoNextTurn"})})});
Smartgraphs.HeightAdjustingListView=SC.ListView.extend({contentLengthBinding:"*content.length",_recomputeLayout:function(){this.computeLayout()
}.observes("contentLength","rowHeight")});Smartgraphs.RaphaelView=SC.View.extend({raphaelObject:null,_childViewForId:{},_lastViewForMouseMove:null,didCreateLayer:function(){var b=Raphael;
var c=this.get("frame");var a=b(this.get("layer"),c.width,c.height);a.canvas.raphael=a;
this.set("raphaelObject",a)},registerChildView:function(a,b){this._childViewForId[b]=a
},_ID_MATCHER:/^(sc\d+)/,_childViewForEvent:function(b){var c=b.target.id;var a=c.match(this._ID_MATCHER);
return a?this._childViewForId[a[1]]:null},mouseMoved:function(c){var b=this._childViewForEvent(c);
if(b&&b.mouseMoved){b.mouseMoved(c)}var a=this._lastViewForMouseMove;if(b!==a){if(a&&a.mouseExited){a.mouseExited(c)
}if(b&&b.mouseEntered){b.mouseEntered(c)}}this._lastViewForMouseMove=b},mouseDown:function(b){var a=this._childViewForEvent(b);
if(a){return a.mouseDown(b)}}});Smartgraphs.SeriesView=SC.View.extend({_raphaelObjForId:{},_dataPointForId:{},_highlightedPoint:null,NO_HIGHLIGHT_ATTR:{r:4},HIGHLIGHT_ATTR:{r:6},SELECTED_ATTR:{stroke:"#aa0000",fill:"#aa0000",opacity:0.8},NOT_SELECTED_ATTR:{stroke:"#BFADA7",fill:"#BFADA7",opacity:0.8},DATA_POINT_ID_MATCHER:"",id:"",init:function(){arguments.callee.base.apply(this,arguments);
this.id=SC.guidFor(this);this.DATA_POINT_ID_MATCHER=new RegExp(this.id+"-data-point-(\\d+)");
var a=this.get("parentView");a.registerChildView(this,this.id)},displayProperties:"xMin xMax yMin yMax padding selection content.[]".w(),didCreateLayer:function(){this.$().css("zIndex","-1")
},mouseDown:function(c){var d=this._dataPointForId[c.target.id];if(d){var a=this.get("controller");
var b=this.get("selection");if(b.contains(d)){a.deselectObject(d)}else{a.selectObject(d,NO)
}}},mouseEntered:function(b){var a=this._raphaelObjForId[b.target.id];if(a){a.attr(this.HIGHLIGHT_ATTR)
}this._highlightedPoint=a},mouseExited:function(b){var a=this._highlightedPoint;if(a){a.attr(this.NO_HIGHLIGHT_ATTR)
}this._highlightedPoint=null},render:function(d,g){var k=this.get("parentView");var B=k.$().children()[0];
var e=(B&&B.raphael)?B.raphael:null;var o=this.get("padding");var v=k.get("layout");
var w=this.get("xMin"),z=this.get("xMax"),a=this.get("yMin"),b=this.get("yMax");if(e&&o&&v&&(w!==undefined)&&(z!==undefined)&&(a!==undefined)&&(b!==undefined)){var p=v.height,r=v.width;
var f=r-o.left-o.right;var u=p-o.top-o.bottom;var D=f/z;var c=u/b;var A=this._raphaelObjForId;
for(var j in A){if(A.hasOwnProperty(j)){A[j].remove()}}this._raphaelObjForId={};this._dataPointForId={};
var m=this.get("content");var C=this.get("selection");for(var t=0,n=m.get("length");
t<n;t++){var q=m.objectAt(t);var l=o.left+(q.get("x")*D);var h=o.top+u-(q.get("y")*c);
var s=e.circle(l,h).attr(this.NO_HIGHLIGHT_ATTR);if(C.contains(q)){s.attr(this.SELECTED_ATTR)
}else{s.attr(this.NOT_SELECTED_ATTR)}s.node.id=this.id+"-data-point-%@".fmt(t);this._raphaelObjForId[s.node.id]=s;
this._dataPointForId[s.node.id]=q}}}});Smartgraphs.StaticAnnotationsView=SC.View.extend({displayProperties:"annotations.[] axes.xMin axes.xMax axes.yMin axes.yMax axes.padding".w(),_raphaelObjects:[],didCreateLayer:function(){this.$().css("zIndex","-1")
},render:function(c,a){var n=this.get("parentView");var r=n.get("raphaelObject");
if(!r){return}var j=this.get("axes");var g=this.get("annotations");this._raphaelObjects.forEach(function(i){i.remove()
});this._raphaelObjects=[];if(!g||!j||(j.get("xMin")===undefined)){return}var o=this.get("points");
var h=n.get("layout");var q=h.height;var b=h.width;var m=j.get("padding");var l=b-m.left-m.right;
var k=q-m.top-m.bottom;var f=j.get("xMax");var d=j.get("yMax");this._xScale=l/f;this._yScale=k/d;
this._left=m.left;this._top=m.top;this._plotHeight=k;this._raphael=r;for(var e=0,p=g.get("length");
e<p;e++){this._renderAnnotation(g.objectAt(e))}},_renderAnnotation:function(a,b,c){if(a.get("type")==="segment"){this._renderSegment(a)
}else{if(a.get("type")==="point"){this._renderPoint(a)}else{if(a.get("type")==="line"){this._renderLine(a)
}}}},_renderSegment:function(b){var g=b.get("points");var e,f;var d=["M"];for(var c=0,h=g.get("length");
c<h;c++){f=g.objectAt(c);e=this._screenCoordinatesFor(f);d.push(e.x);d.push(e.y);
d.push("L")}d.splice(d.length);var a=d.join(" ");var j=this._raphael.path(a).attr({"stroke-width":14,stroke:"#aa0000","stroke-opacity":0.1,"stroke-linecap":"round","stroke-linejoin":"round"}).toBack();
this._raphaelObjects.push(j)},_renderPoint:function(b){var a=b.get("points").objectAt(0);
if(!a){return}var d=this._screenCoordinatesFor(a);var c=this._raphael.circle(d.x,d.y,8).attr({"stroke-opacity":0.7,"fill-opacity":0.1,stroke:"#aa0000"}).toBack();
this._raphaelObjects.push(c)},_renderLine:function(b){var a=b.get("points").objectAt(0);
if(!a){return}var d=this._screenCoordinatesFor(a);var c="M "+d.x+" "+d.y+" L "+this._left+" "+d.y;
var e=this._raphael.path(c).attr({"stroke-width":2,stroke:"#aa0000","stroke-opacity":0.7}).toBack();
this._raphaelObjects.push(e)},_screenCoordinatesFor:function(a){return{x:this._left+(a.get("x")*this._xScale),y:this._top+this._plotHeight-(a.get("y")*this._yScale)}
}});Smartgraphs.main=function main(){console.log("Smartgraphs.main()");Smartgraphs.getPath("mainPage.mainPane").append();
console.log("var theSequence = Smartgraphs.store.find(Smartgraphs.GuidePageSequence, 'sequence-1');");
var a=Smartgraphs.store.find(Smartgraphs.GuidePageSequence,"sequence-1");console.log("theSequence:",a);
if(a){Smartgraphs.guidePageSequenceController.set("sequence",a)}console.log("group end")
};function main(){Smartgraphs.main()}Smartgraphs.mainPage=SC.Page.design({mainPane:SC.MainPane.design({layout:{width:1260,height:1250},childViews:"dialogView graphView tableView sensorAppletView imageView authoringModeButton authorScrollView".w(),imageView:SC.ImageView.design({isVisibleBinding:SC.Binding.oneWay("Smartgraphs.guidePageController.shouldShowImage"),layout:{left:485,top:10,width:455,height:580},value:"/static/smartgraphs/en/6730b6f3fae074ac7ee57ad0cb91695cb3b3c650/resources/walking_path.jpg"}),dialogView:SC.View.design({layout:{left:20,top:10,width:453,height:578},classNames:"smartgraph-pane".w(),childViews:"textView navButtons nextButton backButton".w(),textView:SC.View.design({layout:{top:20,left:20,right:20,bottom:80},classNames:"text-view".w(),childViews:"introTextView dialogTurnView".w(),introTextView:SC.StaticContentView.design({contentBinding:SC.Binding.oneWay("Smartgraphs.guidePageController.introText"),isVisibleBinding:SC.Binding.bool("Smartgraphs.guidePageController.introText")}),dialogTurnView:Smartgraphs.DialogTurnView.design({})}),navButtons:SC.SegmentedView.design({layout:{bottom:36,height:24},displayProperties:"nextPageIsSelectable".w(),itemsBinding:SC.Binding.oneWay("Smartgraphs.guidePageSequenceController"),itemTitleKey:"title",itemIsEnabledKey:"isSelectable",valueBinding:"Smartgraphs.guidePageSequenceController.selectedPage",nextPageIsSelectableBinding:SC.Binding.oneWay("Smartgraphs.guidePageSequenceController*nextPage.isSelectable")}),nextButton:SC.ButtonView.design({displayProperties:["isEnabled"],layout:{bottom:36,height:24,right:30,width:80},title:"Next >>",target:"Smartgraphs.guidePageSequenceController",action:"selectNextPage",isEnabledBinding:SC.Binding.oneWay("Smartgraphs.guidePageSequenceController.canSelectNextPage"),isVisibleBinding:SC.Binding.not("Smartgraphs.guidePageSequenceController.isLastPage").oneWay()}),backButton:SC.ButtonView.design({displayProperties:["isEnabled"],layout:{bottom:36,height:24,left:30,width:80},title:"<< Back",target:"Smartgraphs.guidePageSequenceController",action:"selectPreviousPage",isEnabledBinding:SC.Binding.oneWay("Smartgraphs.guidePageSequenceController.canSelectPreviousPage"),isVisibleBinding:SC.Binding.not("Smartgraphs.guidePageSequenceController.isFirstPage").oneWay()})}),graphView:Smartgraphs.RaphaelView.design({layout:{left:485,top:10,width:453,height:283},childViews:"axesView series1View annotationsView".w(),classNames:["smartgraph-pane"],axesView:Smartgraphs.AxesView.design({axesBinding:"Smartgraphs.axesController"}),series1View:Smartgraphs.SeriesView.design({xMinBinding:"Smartgraphs.axesController.xMin",xMaxBinding:"Smartgraphs.axesController.xMax",yMinBinding:"Smartgraphs.axesController.yMin",yMaxBinding:"Smartgraphs.axesController.yMax",xScaleBinding:"Smartgraphs.axesController.xScale",yScaleBinding:"Smartgraphs.axesController.yScale",paddingBinding:"Smartgraphs.axesController.padding",controllerBinding:"Smartgraphs.dataSeriesController",contentBinding:"Smartgraphs.dataSeriesController.arrangedObjects",selectionBinding:"Smartgraphs.dataSeriesController.selection"}),annotationsView:Smartgraphs.StaticAnnotationsView.design({annotationsBinding:"Smartgraphs.staticAnnotationsController",axesBinding:"Smartgraphs.axesController"})}),tableView:SC.View.design({layout:{left:485,top:305,width:188,height:283},classNames:["smartgraph-pane"],childViews:["labelsView","scrollerView"],labelsView:SC.View.design({layout:{left:0,top:0,width:190,height:30},childViews:["xsLabel","ysLabel"],xsLabel:SC.LabelView.design({layout:{right:10,width:80,top:7,height:20},valueBinding:SC.Binding.oneWay("Smartgraphs.axesController.xLabelAbbreviated")}),ysLabel:SC.LabelView.design({layout:{left:10,width:80,top:7,height:20},valueBinding:SC.Binding.oneWay("Smartgraphs.axesController.yLabelAbbreviated")})}),scrollerView:SC.ScrollView.design({layout:{left:0,top:30,width:190,bottom:15},borderStyle:SC.BORDER_NONE,contentView:SC.View.design({childViews:["xsView","ysView"],xHeightBinding:SC.Binding.from(".xsView.calculatedHeight").oneWay(),yHeightBinding:SC.Binding.from(".ysView.calculatedHeight").oneWay(),height:function(){return Math.max(this.get("xHeight"),this.get("yHeight"))
}.property("xHeight","yHeight").cacheable(),_heightDidChange:function(){this.invokeOnce(this._adjustHeight)
}.observes("height"),_adjustHeight:function(){this.adjust("height",this.get("height"))
},xsView:Smartgraphs.HeightAdjustingListView.design({layout:{left:100,top:0,width:70},canEditContent:NO,contentValueKey:"x",contentBinding:"Smartgraphs.dataSeriesController.arrangedObjects",selectionBinding:"Smartgraphs.dataSeriesController.selection",rowHeight:18}),ysView:Smartgraphs.HeightAdjustingListView.design({layout:{left:10,top:0,width:70},canEditContent:NO,contentValueKey:"y",contentBinding:"Smartgraphs.dataSeriesController.arrangedObjects",selectionBinding:"Smartgraphs.dataSeriesController.selection",rowHeight:18})})})}),sensorAppletView:SC.View.design({childViews:"sensorApplet startButton stopButton resetButton".w(),classNames:"smartgraph-pane".w(),layout:{left:685,top:305,width:253,height:283},shouldBeEnabledBinding:SC.Binding.oneWay("Smartgraphs.dialogTurnController.sensorAppletShouldBeEnabled"),_shouldBeEnabledWasTrue:null,_stopAppletIfNeeded:function(){var a=this.get("shouldBeEnabled");
if(!a&&this._shouldBeEnabledWasTrue){try{this.get("sensorApplet").stop()}catch(b){}}this._shouldBeEnabledWasTrue=a
}.observes("shouldBeEnabled"),sensorApplet:CC.SensorAppletView.design({layout:{left:0,top:0,width:1,height:1},safariSensorStatePath:"Smartgraphs.mainPage.mainPane.sensorAppletView.sensorApplet.sensorState",hideButtons:YES,dt:0.1,resultsBinding:"Smartgraphs.dataSeriesController",listenerPath:"Smartgraphs.mainPage.mainPane.sensorAppletView.sensorApplet",everyNth:10,maxPoints:30,_nsamples:0,_npoints:0,dataReceived:function(h,j,c){if(!this.getPath("parentView.shouldBeEnabled")){return
}if(this.get("dataSeriesBeingUpdated")!==Smartgraphs.dataSeriesController.get("series")){}var f=this.getPath("results.content");
var a=this.get("dt");var l=f.length();var e=this.get("everyNth");var k=this.get("maxPoints");
for(var b=0;b<j;b++){var g=c[b];if(this._nsamples%e===0){SC.RunLoop.begin();var d=Smartgraphs.dataSeriesController.addDataPoint(this._nsamples*a,g);
SC.RunLoop.end();if(Smartgraphs.dataSeriesController.get("length")>=k){this.getPath("parentView.stopButton").action();
return}}this._nsamples++}},dataStreamEvent:function(b,a,c){},sensorsReady:function(){SC.RunLoop.begin();
this.setPath("parentView.startButton.isEnabled",YES);this.getPath("parentView.resetButton").action();
SC.RunLoop.end()}}),startButton:SC.ButtonView.design({layout:{centerX:0,centerY:-60,height:24,width:160},isVisibleBinding:".parentView.shouldBeEnabled",isEnabled:NO,title:"Start",appletBinding:".parentView.sensorApplet",action:function(){this.set("isEnabled",NO);
this.setPath("parentView.stopButton.isEnabled",YES);this.setPath("parentView.resetButton.isEnabled",YES);
this.get("applet").start();this.set("dataSeriesBeingUpdated",Smartgraphs.dataSeriesController.get("series"));
this.get("applet")._nsamples=0}}),stopButton:SC.ButtonView.design({layout:{centerX:0,centerY:0,height:24,width:160},isVisibleBinding:".parentView.shouldBeEnabled",isEnabled:NO,title:"Stop",appletBinding:".parentView.sensorApplet",action:function(){this.set("isEnabled",NO);
this.get("applet").stop()}}),resetButton:SC.ButtonView.design({layout:{centerX:0,centerY:60,height:24,width:160},isVisibleBinding:".parentView.shouldBeEnabled",isEnabled:NO,title:"Reset",appletBinding:".parentView.sensorApplet",resultsBinding:"Smartgraphs.dataSeriesController",action:function(){this.set("isEnabled",NO);
this.setPath("parentView.stopButton.isEnabled",NO);this.setPath("parentView.startButton.isEnabled",YES);
this.get("applet").reset();var a=this.getPath("results.content");a.invoke("destroy");
Smartgraphs.store.commitRecords();this.get("applet")._nsamples=0}})}),authoringModeButton:SC.ButtonView.design({layout:{left:20,top:600},useStaticLayout:YES,title:"Toggle Authoring Mode",targetBinding:"Smartgraphs.authoringController",action:"toggleAuthoring"}),authorScrollView:SC.ScrollView.design({layout:{left:965,top:5,width:300},borderStyle:SC.BORDER_NONE,contentView:Smartgraphs.AuthorView.design({contentBinding:"Smartgraphs.guidePageSequenceController.selectedPage",canEditContent:YES}),isVisibleBinding:"Smartgraphs.authoringController.isAuthoring"})})});