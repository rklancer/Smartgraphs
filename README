#=============================================================================
#Project:   Smartgraphs
#Copyright: Â©2010 Concord Consortium
#=============================================================================

#To install:

git clone git://github.com/rklancer/Smartgraphs.git
cd Smartgraphs
rvm gemset create Smartgraphs
rvm gemset use Smartgraphs
# import gems listed in the default.gems file
rvm gemset import
# Now you can easily use rvm to switch to a version of ruby and the specific 
# gems needed for raclette with a command like 1his:
rvm use 1.9.1@Smartgraphs
# If you are using a branch, this is a good time to check it out like this:
git checkout -b randolph-rails --track origin/randolph-rails
# Then run these commands:
git submodule update --init
cd abbot
rake init
cd frameworks/sproutcore
git remote add rklancer git://github.com/rklancer/sproutcore.git
git checkout --track -b rklancer/buildfile-fix
cd ../../../

# First get the Ruby on Rails backend running in another terminal window
cd Smartgraphs
rvm use 1.9.1@Smartgraphs
cd rails
script/server
# Within 60 seconds (wait until you see the pid and port reported)
# you can use the rails pages at 
# http://localhost:3000/
# You can start with editing/creating Guide Page Sequences at:
# http://localhost:3000/guide_page_sequences

# Start the Sproutcore server another terminal window
cd Smartgraphs
abbot/bin/sc-server -v
#...then visit localhost:4020/smartgraphs
#
# to open TestRunner visit http://localhost:4020/sproutcore/tests
# to see all Sproutcore tests visit  http://localhost:4020/static/smartgraphs/en/current/tests.html
#
# Build to the rails/public directory with:
abbot/bin/sc-build -c --buildroot="rails/public"